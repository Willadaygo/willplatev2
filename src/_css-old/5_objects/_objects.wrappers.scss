// /*------------------------------------*\
//     #WRAPPERS
// \*------------------------------------*/

.wrapper {
    max-width: 1100px;
    margin: 0 auto;
    // padding-right: $spacing-unit--small;
    // padding-left:  $spacing-unit--small;

    // @include media-query(lap-and-up) {
    //     padding-right: $spacing-unit;
    //     padding-left:  $spacing-unit;
    // }

}

// /**
//  * This is a bit of a magic number; a wrapper this wide will allow us to ‘hang’
//  * one icon out of the rest of the page’s ‘grid’. It is used primarily on the
//  * home page promo boxes.
//  */
// .wrapper--wide {
//     max-width: 1276px;
// }

// Define our variables

$right-width:   rem(245) !default;
$overlap-ratio: 1 !default;
$transition: .3s;

// Menu Button

.ocn-switch {
  display: none; //turned block with js kicks in to stop menu flash on load

  position: absolute;
  top: 0;
  right: 0;
  @include size(rem(22), rem(17));
  background: blue;
  background-position: center center;
  padding: rem(38) rem(39);
}

//Nav List

.ocn {
  position: absolute;
  top: rem(190);
  left: 0;
  right: 0;
  z-index: 1;
  background: col("blue");
  @include break($med-break) {
    background: none !important;
  }
}

.ocn ul {
  font-size: 0;
  @include break($med-break) {
    text-align: center;
    margin: 0 auto;
    // width: rem(500);
  }
}

.ocn li {
  @include break($med-break) {
    display: inline-block;
    padding: 0 $padding;
    &:after {
      content: "";
      display: block;
      width: 100%;
      height: rem(1);
      transform: scaleX(1) translate3d(rem(3), 0, 0);
      backface-visibility: hidden;
      background: col("black");
      transition: $speed ease;
    }
    &:hover:after {
      transform: scaleX(1.15) translate3d(rem(3), 0, 0);
    }
  }
}

.ocn a {
  display: block;
  width: 100%;
  border-bottom: rem(1) solid col("black");
  padding: rem(26) rem(40) rem(23);
  min-height: rem(70);
  @include break($med-break) {
    border: 0;
    padding: 0;
    min-height: 0;
    margin-left: .4em;
  }
}

.ocn__list__item.is--active {
  &:after,
  &:hover:after {
    transform: scaleX(1.05) translate3d(rem(3), rem(-12), 0);
  }
  .ocn__list__link:hover {
    transform: none;
  }
}

.ocn__sub {
  z-index: -1;
  height: 0;
  transition: all .3s cubic-bezier(0.190, 1.000, 0.220, 1.000);
  position: relative;
  background: col("green--darker");
  overflow: hidden;
  @include break($med-break) {
    display: none;
    width: 0;
    height: 0;
  }
}

.ocn__sub--toggle {
  width: 100%;
  height: rem(70);
  position: absolute;
  top:0;
  opacity: 1;
  cursor: pointer;
  &:after {
    content: "";
    position: absolute;
    top: rem(30);
    left: rem(120);
    @include size(rem(10), rem(8));
    background: blue;
    transform: translateZ(0);
    transform: rotate(0deg);
    transition: all .5s cubic-bezier(0.190, 1.000, 0.220, 1.000);
  }
  &.is--rotated:after {
    transform: rotate(180deg);
  }
}

.ocn__sub li {
  white-space: nowrap;
  opacity: 0;
  transform: translateZ(0);
  transform: translateX(rem(-20));
  // visibility: hidden;
}

.ocn__sub.is--visible {
  z-index: 0;
  height: rem(70)*8;
  overflow: visible;
  li {
    opacity: 1; 
    transform: translateX(0);
    // visibility: visible;
    transition: all .5s cubic-bezier(0.190, 1.000, 0.220, 1.000);
  }
  &:after {
    transform: rotate(180deg);
  }
}

.ocn__sub a {
  font-size: rem(10);
  line-height: rem(16);
  letter-spacing: .2em;
  padding-left: rem(60);
}

@include break-max($med-break) {

  .ocn-switch {
    display: block;
  }

  .ocn {
    display:none;
    position: fixed;
    top: 0;
    bottom: 0;
    left: auto;
    right: auto;
    overflow-x:hidden;
    overflow-y: auto;
  }

  .site__inner,
  .ocn {
    transition: all $transition cubic-bezier(0.645, 0.045, 0.355, 1);
  }

  .ocn {
    transform: translate3d(0,0,0);
    transform: translateZ(0);
    z-index: 1;
  }
    
  @if $right-width != 0px {
    .site__inner{
      @include opacity(1);
    }
    .ocn {
      right:0;
      width:$right-width;
      transform: translate3d(100%,0,0);
      // transform: translate3d(0,0,0);
    }
    .ocn__list {
      transition: all $transition cubic-bezier(0.190, 1.000, 0.220, 1.000);
      // transform: translate3d(50%,0,0);
      transform: translate3d(0,0,0);
    }
  }

  @if $right-width != 0px {
    .ocn-show-right {


      .site__inner {
        transform: translate3d(-#{$right-width / $overlap-ratio},0,0);
        @include opacity(.3);
      }

      .ocn {
        transform: translate3d(0,0,0);
      }

      .ocn__list {
        transform: translate3d(0,0,0);
      }
    }
  }

  // State for showing Nav after page has loaded
  .is--visible {
    display: block;
  }

}
